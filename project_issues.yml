# project_issues.yml
# Proyecto: SL2000-Next
# Plan de desarrollo √°gil basado en sprints
# Cada bloque corresponde a un conjunto de issues creadas autom√°ticamente

######################################################################
# üß© SPRINT 0 ‚Äî PLANIFICACI√ìN Y DISE√ëO T√âCNICO
######################################################################

- title: "Sprint 0 - Definir arquitectura general del sistema"
  body: |
    Objetivo: establecer la base tecnol√≥gica del nuevo sistema SL2000-Next.
    - Documentar arquitectura (backend, frontend, DB, mensajer√≠a)
    - Seleccionar stack tecnol√≥gico
    - Crear estructura inicial de carpetas y repos
  labels: ["Sprint 0", "arquitectura", "alta prioridad"]
  assignees: []

- title: "Sprint 0 - Modelo de datos (ERD)"
  body: |
    - Dise√±ar diagrama entidad-relaci√≥n (PostgreSQL)
    - Definir tablas: Item, StockRecord, WorkOrder, MaintenanceRecord, PurchaseRequest, User, AuditLog
    - Documentar relaciones y claves for√°neas
  labels: ["Sprint 0", "base de datos", "documentaci√≥n"]

- title: "Sprint 0 - Definir especificaci√≥n OpenAPI"
  body: |
    - Crear especificaci√≥n OpenAPI 3.1 con endpoints CRUD iniciales
    - Rutas: /items, /stocks, /users
  labels: ["Sprint 0", "API"]

- title: "Sprint 0 - Configurar entorno Docker y CI/CD"
  body: |
    - Dockerfile backend + frontend
    - docker-compose.yml
    - Pipeline GitHub Actions
  labels: ["Sprint 0", "devops"]

######################################################################
# üß± SPRINT 1 ‚Äî INVENTARIO Y AUTENTICACI√ìN
######################################################################

- title: "Sprint 1 - Autenticaci√≥n y roles (MFA)"
  body: |
    - Implementar login, registro, MFA
    - Roles: Admin, Gestor, T√©cnico, Auditor
    - Guardar tokens en JWT y refresco seguro
  labels: ["Sprint 1", "seguridad", "backend"]

- title: "Sprint 1 - CRUD de Items e Inventario"
  body: |
    - Crear endpoints CRUD para Items
    - Campos: NSN, P/N, descripci√≥n, cantidad, ubicaci√≥n, estado
    - Validar integridad de datos
  labels: ["Sprint 1", "inventario", "backend"]

- title: "Sprint 1 - UI de Inventario (React)"
  body: |
    - Crear interfaz b√°sica con tabla de items
    - Filtros por ubicaci√≥n y estado
    - Conexi√≥n con API backend
  labels: ["Sprint 1", "frontend", "UI"]

- title: "Sprint 1 - Logs de auditor√≠a"
  body: |
    - Registrar operaciones de usuario (alta, baja, modificaci√≥n)
    - Guardar timestamp, user_id, acci√≥n, entidad
  labels: ["Sprint 1", "auditor√≠a"]

######################################################################
# ‚öôÔ∏è SPRINT 2 ‚Äî MANTENIMIENTO Y TRAZABILIDAD
######################################################################

- title: "Sprint 2 - M√≥dulo de √≥rdenes de trabajo (OT)"
  body: |
    - Crear entidad WorkOrder vinculada a Items
    - Estados: abierta, en curso, completada
    - Asociar t√©cnicos responsables
  labels: ["Sprint 2", "mantenimiento"]

- title: "Sprint 2 - Historial de mantenimiento"
  body: |
    - Registrar intervenciones por n√∫mero de serie
    - Mostrar hist√≥rico en frontend
  labels: ["Sprint 2", "mantenimiento", "frontend"]

- title: "Sprint 2 - Auditor√≠a avanzada"
  body: |
    - A√±adir visualizaci√≥n de logs por usuario/objeto
    - Filtros de b√∫squeda por rango de fechas
  labels: ["Sprint 2", "auditor√≠a"]

######################################################################
# üì¶ SPRINT 3 ‚Äî APROVISIONAMIENTO Y CICLO DE COMPRAS
######################################################################

- title: "Sprint 3 - M√≥dulo de solicitudes y pedidos"
  body: |
    - Generar solicitudes autom√°ticas por stock m√≠nimo
    - Crear tabla PurchaseRequest y Orders
  labels: ["Sprint 3", "aprovisionamiento"]

- title: "Sprint 3 - Recepci√≥n y validaci√≥n de pedidos"
  body: |
    - Integrar recepci√≥n de materiales con inventario
    - Cambiar estado a 'Disponible'
  labels: ["Sprint 3", "inventario", "backend"]

- title: "Sprint 3 - Dashboard de compras"
  body: |
    - Mostrar estado de solicitudes, pendientes, completadas
    - Exportar reportes en CSV/PDF
  labels: ["Sprint 3", "frontend"]

######################################################################
# üåê SPRINT 4 ‚Äî SINCRONIZACI√ìN DISTRIBUIDA
######################################################################

- title: "Sprint 4 - Nodo central y nodos locales"
  body: |
    - Implementar sincronizaci√≥n maestro-esclavo
    - Usar Kafka o RabbitMQ
  labels: ["Sprint 4", "arquitectura", "mensajer√≠a"]

- title: "Sprint 4 - Resoluci√≥n de conflictos de datos"
  body: |
    - Estrategia: last-write-wins o merges configurables
  labels: ["Sprint 4", "backend"]

- title: "Sprint 4 - Simulaci√≥n desconexi√≥n/reconexi√≥n"
  body: |
    - Probar funcionamiento offline
    - Validar reconciliaci√≥n de inventarios
  labels: ["Sprint 4", "pruebas", "QA"]

######################################################################
# üîê SPRINT 5 ‚Äî SEGURIDAD Y CUMPLIMIENTO
######################################################################

- title: "Sprint 5 - Cifrado TLS y almacenamiento seguro"
  body: |
    - Implementar HTTPS completo
    - Cifrar datos sensibles (passwords, tokens)
  labels: ["Sprint 5", "seguridad"]

- title: "Sprint 5 - Control de acceso por rol"
  body: |
    - Pol√≠tica RBAC completa
    - Validaciones en backend y frontend
  labels: ["Sprint 5", "seguridad", "backend"]

- title: "Sprint 5 - Backups autom√°ticos"
  body: |
    - Programar backups diarios y verificaci√≥n de integridad
  labels: ["Sprint 5", "devops"]

######################################################################
# üß† SPRINT 6 ‚Äî OPTIMIZACI√ìN Y VISUALIZACI√ìN
######################################################################

- title: "Sprint 6 - Dashboard de rendimiento"
  body: |
    - Mostrar m√©tricas: MTBF, disponibilidad, consumo
    - Integrar gr√°ficos (Recharts / Chart.js)
  labels: ["Sprint 6", "frontend", "anal√≠tica"]

- title: "Sprint 6 - Reportes y exportaciones"
  body: |
    - Exportar informes de mantenimiento e inventario
    - Formatos PDF y Excel
  labels: ["Sprint 6", "reportes"]

- title: "Sprint 6 - Refactor final y QA"
  body: |
    - Limpieza de c√≥digo, optimizaci√≥n de queries
    - Pruebas E2E y documentaci√≥n final
  labels: ["Sprint 6", "QA", "final"]
